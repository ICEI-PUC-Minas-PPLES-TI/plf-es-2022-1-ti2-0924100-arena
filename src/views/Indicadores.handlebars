<header>
    <div class="flex-container">
        <div><img src="/img/logo.png" class="logo" alt=""></div>
        <h1 class="titulo">Indicadores</h1>
        <div><button class="botao_sair">Sair</button></div>
    </div>
</header>


<div>
    <h1>Quadras cadastradas por mês</h1>
    <input type="text" id="stringQuadras" style="display: none;" value={{stringQuadras}}>
    <input type="text" id="stringQuadrasdia" style="display: none;" value={{stringQuadrasdia}}>
    <input type="text" id="stringstringpartidas" style="display: none;" value={{stringpartidas}}>
    <input type="text" id="stringstringpartidasdia" style="display: none;" value={{stringpartidasdia}}>
    <br>
    
    
    <input type="text" id="totalPartidas" style="display: none;" value={{totalPartidas}}>
    <input type="text" id="futPartidas" style="display: none;" value={{futPartidas}}>
    <input type="text" id="basPartidas" style="display: none;" value={{basPartidas}}>
    <input type="text" id="futVolPartidas"style="display: none;" value={{futVolPartidas}}>
    <input type="text" id="volPartidas"style="display: none;" value={{VolPartidas}}>
    <input type="text" id="tenPartidas"style="display: none;" value={{TenPartidas}}>
    <div id="grafico1" style="width: 800px;"></div>

    <div>
        <h1>Partidas cadastradas por mês</h1>
        <input type="text" id="stringpartidas" style="display: none;" value={{stringpartidas}}>
        <input type="text" id="stringpartidasdia" style="display: none;" value={{stringpartidasdia}}>
        <div id="grafico" style="width: 800px;"></div>
    </div>

    <h1>Esportes populares</h1>

    <div id="graficoEsportes"></div><!-- Grafico para partidas por esporte -->


</div>

<div>

    <h1>Jogadores com avaliação abaixo da média: {{mediaAvaliacao}}</h1>
    <table id="grid_loc_pag" class="table table-striped">
        <thead>
            <tr>
                <th scope="col">Email</th>
                <th scope="col">Nota</th>
            </tr>   
        </thead>
        {{#each atletasAgr}}
        <tbody id="grid_loc_pag">
            <th scope="col">{{EmailAtleta}}</th>
            <th scope="col">{{Nota}}</th>

        </tbody>
        {{/each}}
    </table>


</div>
<style>
    td {
        background-color: black !important;
        margin: 15px 0 !important;
    }

    td {
        background-color: black !important;
        margin: 15px 0 !important;
    }
</style>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>

<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
<script>
    var stringQuadras = document.getElementById("stringQuadras").value;
    var stringQuadrasdia = document.getElementById("stringQuadrasdia").value;

    var arreynovo = []
    stringQuadras = JSON.parse(stringQuadras)
    for (let i = 0; i < stringQuadras.length; i++) {
        arreynovo.push(stringQuadras[i][1] + stringQuadras[i][2] + stringQuadras[i][3] + stringQuadras[i][4] + stringQuadras[i][5] + stringQuadras[i][6] + stringQuadras[i][7] + stringQuadras[i][8] + stringQuadras[i][9] + stringQuadras[i][10])
    }

    console.log("StringQuadras:" + stringQuadrasdia)


    var garf_1 = {
        x: arreynovo,
        y: stringQuadrasdia,
        mode: 'lines+markers',
        type: 'scatter',
    }

    var data = [garf_1]
    Plotly.newPlot('grafico1', data)


    var stringpartidas = document.getElementById("stringpartidasdia").value;
    var stringpartidasdia = document.getElementById("stringpartidas").value;

    var arreynovo1 = []
    stringpartidasdia = JSON.parse(stringpartidasdia)
    stringpartidas = JSON.parse(stringpartidas)
    for (let i = 0; i < stringpartidas.length; i++) {
        arreynovo1.push(stringpartidasdia[i])
    }


    var garf_2 = {
        x: arreynovo1,
        y: stringpartidas,
        mode: 'lines+markers',
        type: 'scatter',
    }

    var data = [garf_2]
    Plotly.newPlot('grafico', data)
</script>



<!--ARTHUR AQUI HEIN-->
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">
    //PEGAR VALORES DO HTML:
    var arreyDadosEsportes = []
    arreyDadosEsportes.push(document.getElementById('futPartidas').value)
    arreyDadosEsportes.push(document.getElementById('basPartidas').value)
    arreyDadosEsportes.push(document.getElementById('futVolPartidas').value)
    arreyDadosEsportes.push(document.getElementById('volPartidas').value)
    arreyDadosEsportes.push(document.getElementById('tenPartidas').value)


    console.log(arreyDadosEsportes)
    var data = [{
        values: arreyDadosEsportes,
        labels: ['Futbol', 'Volei', 'Basquete', 'FutVolei', 'Tenis'],
        type: 'pie'
    }];

    var layout = {
        height: 400,
        width: 500
    };

    Plotly.newPlot('graficoEsportes', data, layout);

</script>